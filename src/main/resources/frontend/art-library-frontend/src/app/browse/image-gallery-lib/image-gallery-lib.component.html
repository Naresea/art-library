<ng-container *ngIf="pagesReady$ | async; else loading">
  <div class="d-flex flex-column h-100 w-100 overflow-auto"
       #scrollWindow
       infiniteScroll
       [infiniteScrollDistance]="2"
       [infiniteScrollUpDistance]="2"
       [scrollWindow]="false"
       [alwaysCallback]="true"
       (scrolled)="nextPage()"
       (scrolledUp)="prevPage()">
    <ng-container *ngIf="plainConfig$$ | async as config">
      <ks-modal-gallery [id]="0"
                        [modalImages]="modalImages"
                        [currentImageConfig]="{invertSwipe: true}"
                        [plainGalleryConfig]="config"
                        (close)="close()"
                        (show)="handleShow($event)">
      </ks-modal-gallery>
    </ng-container>
  </div>
</ng-container>
<ng-template #loading>
  <h5>Loading...</h5>
</ng-template>
